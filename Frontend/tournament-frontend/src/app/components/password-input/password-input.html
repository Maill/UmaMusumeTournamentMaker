<div class="password-modal-overlay" *ngIf="isVisible" (click)="onCancel()">
  <div class="password-modal" (click)="$event.stopPropagation()">
    <div class="password-modal-header">
      <h3>{{ title }}</h3>
      <button type="button" class="close-btn" (click)="onCancel()" [disabled]="isLoading">Ã—</button>
    </div>
    
    <div class="password-modal-body">
      <p>{{ message }}</p>
      
      <form (ngSubmit)="onSubmit()" class="password-form">
        <div class="form-group">
          <label for="password">Password:</label>
          <input 
            id="password"
            type="password" 
            [(ngModel)]="password" 
            name="password"
            class="form-control"
            placeholder="Enter password"
            (keydown)="onKeyPress($event)"
            [disabled]="isLoading"
            autofocus>
        </div>

        <div class="error" *ngIf="error">
          {{ error }}
        </div>

        <div class="form-actions">
          <button 
            type="submit" 
            class="btn btn-primary"
            [disabled]="isLoading || !password.trim()">
            <span *ngIf="isLoading">Verifying...</span>
            <span *ngIf="!isLoading">Submit</span>
          </button>
          <button 
            type="button" 
            class="btn btn-secondary"
            (click)="onCancel()"
            [disabled]="isLoading">
            Cancel
          </button>
        </div>
      </form>
    </div>
  </div>
</div>